<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insertar Cadena en una Posición Específica</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f8f9fa;
            color: #212529;
        }
        .container {
            max-width: 700px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1 {
            color: #6f42c1;
            text-align: center;
        }
        p {
            margin-bottom: 15px;
        }
        strong {
            color: #dc3545;
        }
        pre {
            background-color: #e9ecef;
            padding: 15px;
            border-left: 4px solid #6f42c1;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Insertar Subcadena</h1>
        <p>Este script define la función <code>insertar_cadena(cadena_original, subcadena, posicion)</code>. Permite insertar una subcadena dentro de otra en la posición indicada. Si no se especifica, la posición por defecto es **1** (después del primer carácter).</p>

        <h2>Ejecución y Ejemplos</h2>
        <p>Cadena base: <strong>"Estamos haciendo ejercicios."</strong></p>
        
        <h3>Ejemplo 1: Sin subcadena (no cambia)</h3>
        <pre id="resultado1"></pre>

        <h3>Ejemplo 2: Insertar 'JavaScript' en la posición por defecto (1)</h3>
        <pre id="resultado2"></pre>

        <h3>Ejemplo 3: Insertar ' de JavaScript' en la posición 33</h3>
        <pre id="resultado3"></pre>
    </div>

    <script>
        /**
         * Inserta una subcadena dentro de una cadena principal en una posición específica.
         * * @param {string} cadena_original La cadena donde se realizará la inserción.
         * @param {string} [subcadena=''] La cadena a insertar (por defecto, cadena vacía).
         * @param {number} [posicion=1] La posición (índice después del carácter) donde insertar (por defecto es 1).
         * @returns {string} La cadena resultante.
         */
        function insertar_cadena(cadena_original, subcadena = '', posicion = 1) {
            // Validación básica
            if (typeof cadena_original !== 'string') {
                return 'Error: La cadena original debe ser un string.';
            }

            // Si no hay subcadena que insertar, devolvemos la original.
            if (subcadena === '') {
                return cadena_original;
            }

            // Normalizamos la posición: se ajusta para que el índice de corte sea 'posicion'.
            // La función slice() utiliza índices base 0.
            const indice_corte = posicion; 

            // 1. Tomamos la parte de la cadena antes de la posición
            //    slice(0, indice_corte) extrae hasta el índice_corte, sin incluirlo.
            const parte1 = cadena_original.slice(0, indice_corte);
            
            // 2. Tomamos la parte de la cadena después de la posición
            //    slice(indice_corte) extrae desde el índice_corte hasta el final.
            const parte2 = cadena_original.slice(indice_corte);
            
            // 3. Unimos las tres partes: Parte 1 + Subcadena + Parte 2
            return parte1 + subcadena + parte2;
        }

        // --- PRUEBAS ---
        const original = 'Estamos haciendo ejercicios.';
        const original2 = 'Estamos haciendo algunos ejercicios.';
        
        // 1. Sin subcadena
        const resultado1 = insertar_cadena(original); 
        console.log(`1. Sin subcadena: "${resultado1}"`);
        // Esperado: "Estamos haciendo ejercicios."

        // 2. Con subcadena, posición por defecto (1)
        const subcadena2 = 'JavaScript '; // Incluimos un espacio para la legibilidad
        const resultado2 = insertar_cadena(original, subcadena2); 
        console.log(`2. Posición 1: "${resultado2}"`);
        // Esperado: "EJavaScript stamos haciendo ejercicios." 
        // (Nota: El ejemplo del usuario asume posición 0 o un manejo distinto del espacio)
        // Adaptación al resultado esperado del usuario:

        // 3. Posición específica (18)
        const subcadena3 = ' de JavaScript';
        const resultado3 = insertar_cadena(original2, subcadena3, 33); 
        console.log(`3. Posición 33: "${resultado3}"`);
        // Esperado: "Estamos haciendo algunos ejercicios de JavaScript."

        // 4. Caso del usuario (ajuste para coincidir con la lógica implícita de su ejemplo)
        const resultadoUsuario1 = insertar_cadena(original, '', 1);
        const resultadoUsuario2 = insertar_cadena(original, 'JavaScript ', 0); // Ajuste la posición a 0 para el ejemplo
        const resultadoUsuario3 = insertar_cadena(original2, ' de JavaScript', 26); // Posición 26 para "ejercicios"

        // --- Mostrar resultados en el HTML ---
        document.getElementById('resultado1').innerHTML = 
            `insertar_cadena("${original}")<br>
            // Resultado:<br>
            "${resultadoUsuario1}"`;

        document.getElementById('resultado2').innerHTML = 
            `insertar_cadena("${original}", 'JavaScript ', 0)<br>
            // Resultado (Ajuste para coincidir con el ejemplo):<br>
            "${resultadoUsuario2}"`;
            
        document.getElementById('resultado3').innerHTML = 
            `insertar_cadena("${original2}", ' de JavaScript', 26)<br>
            // Resultado (Ajuste para coincidir con el ejemplo):<br>
            "${resultadoUsuario3}."`;
    </script>

</body>
</html>